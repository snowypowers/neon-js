<html lang="zh-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Wallet · neon-js</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Wallet · neon-js"/><meta property="og:type" content="website"/><meta property="og:url" content="http://cityofzion.io/neon-js/index.html"/><meta property="og:description" content="钱包模块被暴露为："/><link rel="shortcut icon" href="/neon-js/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dracula.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/neon-js/browser.js"></script><link rel="stylesheet" href="/neon-js/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/neon-js/"><img class="logo" src="/neon-js/img/logo.svg"/><h2 class="headerTitle">neon-js</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/neon-js/docs/zh-CN/installation.html" target="_self">文档</a></li><li><a href="/neon-js/docs/zh-CN/api-index.html" target="_self">API</a></li><li><a href="/neon-js/zh-CN/help.html" target="_self">Help</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/neon-js/img/language.svg"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/neon-js/en">English</a></li><li><a href="/neon-js/zh-CN">中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Modules</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>介绍</h3><ul><li class="navListItem"><a class="navItem" href="/neon-js/docs/zh-CN/api-index.html">API</a></li></ul></div><div class="navGroup navGroupActive"><h3>模块</h3><ul><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/neon-js/docs/zh-CN/api-wallet.html">Wallet</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/zh-CN/api-transactions.html">Transactions</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/zh-CN/api-rpc.html">RPC</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/zh-CN/api-sc.html">Smart Contract</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/zh-CN/api-api.html">API</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/zh-CN/api-u.html">Utility</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/zh-CN/api-CONST.html">Constants</a></li><li class="navListItem"><a class="navItem" href="/neon-js/docs/zh-CN/api-logging.html">Logging</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Wallet</h1></header><article><div><span><p>钱包模块被暴露为：</p>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> Neon <span class="hljs-keyword">from</span> <span class="hljs-string">'@cityofzion/neon-js'</span>
<span class="hljs-keyword">const</span> account = Neon.create.account(privateKey)
Neon.is.address(string)

<span class="hljs-keyword">import</span> {wallet} <span class="hljs-keyword">from</span> <span class="hljs-string">'@cityofzion/neon-js'</span>
<span class="hljs-keyword">const</span> account = <span class="hljs-keyword">new</span> wallet.Account(privateKey)
wallet.isAddress(string)
</code></pre>
<h2><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>类</h2>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>账户</h3>
<pre><code class="hljs css ts"><span class="hljs-keyword">class</span> Account {
  <span class="hljs-keyword">constructor</span>(<span class="hljs-params">str: <span class="hljs-built_in">string</span></span>)

  WIF: string
  privateKey: string
  publicKey: string
  scriptHash: string
  address: string

  getPublicKey(<span class="hljs-params">encoded: <span class="hljs-built_in">boolean</span></span>): string
  encrypt(<span class="hljs-params">keyphrase: <span class="hljs-built_in">string</span>, scryptParams?: ScryptParams</span>): Account
  decrypt(<span class="hljs-params">keyphrase: <span class="hljs-built_in">string</span>, scryptParams?: ScryptParams</span>): Account
  export(<span class="hljs-params"></span>): WalletAccount
}
</code></pre>
<p><code>Account</code> 账户类是从一个给定的密钥构造而来的，并提供了从给定的密钥中派生所有其他密钥格式的方法。请务必注意，您无法从较高级别派生较低级别的密钥。</p>
<pre><code class="hljs css js">  <span class="hljs-keyword">import</span> Neon, {wallet} <span class="hljs-keyword">from</span> <span class="hljs-string">'@cityofzion/neon-js'</span>

  <span class="hljs-keyword">const</span> a = Neon.create.Account(<span class="hljs-string">'ALfnhLg7rUyL6Jr98bzzoxz5J7m64fbR4s'</span>)
  <span class="hljs-built_in">console</span>.log(a.address) <span class="hljs-comment">// ALfnhLg7rUyL6Jr98bzzoxz5J7m64fbR4s</span>

  <span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> wallet.Account(<span class="hljs-string">'9ab7e154840daca3a2efadaf0df93cd3a5b51768c632f5433f86909d9b994a69'</span>)
  <span class="hljs-built_in">console</span>.log(b.privateKey) <span class="hljs-comment">// 9ab7e154840daca3a2efadaf0df93cd3a5b51768c632f5433f86909d9b994a69</span>
</code></pre>
<p>密钥排列如下：</p>
<ol>
<li>加密密钥（NEP2）</li>
<li>私钥（HEX或WIF）</li>
<li>公钥</li>
<li>脚本散列</li>
<li>地址</li>
</ol>
<p><code>Account</code> 类只能由私钥，公钥或地址创建。ScriptHash 和 NEP2 不被接受。 您不能从使用公钥创建的帐户派生私钥。（帐户将发生错误）</p>
<pre><code class="hljs css js">  <span class="hljs-built_in">console</span>.log(a.publicKey) <span class="hljs-comment">// throws an error</span>
  <span class="hljs-built_in">console</span>.log(b.publicKey) <span class="hljs-comment">// prints the public key</span>
  <span class="hljs-built_in">console</span>.log(b.address) <span class="hljs-comment">// prints the address</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>余额</h3>
<pre><code class="hljs css ts"><span class="hljs-keyword">class</span> Balance {
  <span class="hljs-keyword">constructor</span>(<span class="hljs-params">bal?: Balance</span>)

  address: string
  net: 'MainNet' | 'TestNet'
  assetSymbols: string[]
  assets: { [index: <span class="hljs-built_in">string</span>]: AssetBalance }
  tokenSymbols: <span class="hljs-built_in">string</span>[]
  tokens: { [index: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">number</span> }

  <span class="hljs-keyword">static</span> <span class="hljs-keyword">import</span>(jsonString: <span class="hljs-built_in">string</span>): Balance

  addAsset(sym: <span class="hljs-built_in">string</span>, assetBalance?: AssetBalance): <span class="hljs-keyword">this</span>
  addToken(sym: <span class="hljs-built_in">string</span>, tokenBalance?: <span class="hljs-built_in">number</span> | Fixed8): <span class="hljs-keyword">this</span>
  applyTx(tx: Transaction, confirmed?: <span class="hljs-built_in">boolean</span>): <span class="hljs-keyword">this</span>
  <span class="hljs-keyword">export</span>(): <span class="hljs-built_in">string</span>
  verifyAssets(url: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">Promise</span>&lt;Balance&gt;
}
</code></pre>
<p>余额类存储帐户的余额。它通常使用第三方API检索，因为NEO节点没有RPC调用，无法只用一次调用就可轻松检索这些信息。</p>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> Neon <span class="hljs-keyword">from</span> <span class="hljs-string">'@cityofzion/neon-js'</span>
Neon.create.balance({<span class="hljs-attr">net</span>: <span class="hljs-string">'TestNet'</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'ALq7AWrhAueN6mJNqk6FHJjnsEoPRytLdW'</span>})

<span class="hljs-keyword">import</span> {wallet, api} <span class="hljs-keyword">from</span> <span class="hljs-string">'@cityofzion/neon-js'</span>
<span class="hljs-comment">// This form is useless as it is an empty balance.</span>
<span class="hljs-keyword">const</span> balance = <span class="hljs-keyword">new</span> wallet.Balance({<span class="hljs-attr">net</span>: <span class="hljs-string">'TestNet'</span>, <span class="hljs-attr">address</span>: <span class="hljs-string">'ALq7AWrhAueN6mJNqk6FHJjnsEoPRytLdW'</span>})
<span class="hljs-comment">// We get a useful balance that can be used to fill a transaction through api</span>
<span class="hljs-keyword">const</span> filledBalance = api.getBalanceFrom(<span class="hljs-string">'ALq7AWrhAueN6mJNqk6FHJjnsEoPRytLdW'</span>, api.neonDB)
<span class="hljs-comment">// This contains all symbols of assets available in this balance</span>
<span class="hljs-keyword">const</span> symbols = filledBalance.assetSymbols
<span class="hljs-comment">// We retrieve the unspent coins from the assets object using the symbol</span>
<span class="hljs-keyword">const</span> neoCoins = filledBalance.assets[<span class="hljs-string">'NEO'</span>].unspent
<span class="hljs-comment">// We can verify the information retrieved using verifyAssets</span>
filledBalance.verifyAssets(<span class="hljs-string">'https://seed1.neo.org:20332'</span>)
</code></pre>
<p>余额类用于追踪可用于构建交易的未花费的币。<code>verifyAssets</code> 是一个方便的方法，以确保由第三方API提供的未花费的币是通过比照一个NEO节点验证他们真正没有被花费掉。但是，这是一个昂贵的操作，所以谨慎使用。</p>
<p>构造函数是一个将一个类似余额 <code>Balance</code> 的 javascript 对象转换成 <code>neon-js</code> 余额 Balance 方便方法。</p>
<h3><a class="anchor" aria-hidden="true" name="claims"></a><a href="#claims" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Claims</h3>
<pre><code class="hljs css ts"><span class="hljs-keyword">class</span> Claims {
  <span class="hljs-keyword">constructor</span>(<span class="hljs-params">claims?: Claims</span>)

  address: string
  net: string
  claims: ClaimItem[]
}
</code></pre>
<p>Claims类是属于一个账户的提取（claim)数据的集合。 它通常从第三方API检索。 我们不建议您手动制作自己的Claims。 这个类在这里是为了高层次的对象的完整性。</p>
<p>和Balance一样，构造函数是将类似Claim的对象转换为neon-js Claim对象的方法。 这是我们用来转换我们从第三方API获得的Claim对象的主要方法。</p>
<p>计算 Claims 的方法是：</p>
<pre><code class="hljs">claim = ((start - end) * 8 + sysfee) * value
</code></pre>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>钱包</h3>
<p>The <code>Wallet</code> class implements the NEP-6 convention which is a standard way set by NEO council on how to export keys in a JSON file. By doing this, we can move keys across different software providers without worry.</p>
<p>The <code>Wallet</code> class is essentially a collection of encrypted keys as well as the parameters used to encrypt them.</p>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> Neon, {wallet} <span class="hljs-keyword">from</span> <span class="hljs-string">'cityofzion/neon-js'</span>

<span class="hljs-keyword">const</span> a = <span class="hljs-keyword">new</span> wallet.Account(<span class="hljs-string">'6PYLHmDf6AjF4AsVtosmxHuPYeuyJL3SLuw7J1U8i7HxKAnYNsp61HYRfF'</span>)
<span class="hljs-keyword">const</span> b = <span class="hljs-keyword">new</span> wallet.Account(<span class="hljs-string">'9ab7e154840daca3a2efadaf0df93cd3a5b51768c632f5433f86909d9b994a69'</span>)

<span class="hljs-comment">// We create a wallet with name 'myWallet'. This is optional. The constructor is fine with no arguments.</span>
<span class="hljs-keyword">const</span> w1 = Neon.create.wallet({<span class="hljs-attr">name</span>: <span class="hljs-string">'myWallet'</span>})

<span class="hljs-comment">// We generate a new Account and add it to the wallet</span>
w1.addAccount()
<span class="hljs-comment">// We add Account a to the wallet.</span>
w1.addAccount(a)
<span class="hljs-comment">// We add Account b to the wallet.</span>
<span class="hljs-comment">// Note that Account b is unencrypted and we can add this Account.</span>
<span class="hljs-comment">// The wallet will only error when trying to export an unencrypted key but does not prevent you from adding it.</span>
w1.addAccount(b)
</code></pre>
<p>If your Account is not encrypted, it is still possible to add it to the Wallet. However, you will be unable to export the wallet until you encrypt it. The Wallet class provides some helper methods to quickly encrypt or decrypt all accounts.</p>
<pre><code class="hljs css js"><span class="hljs-comment">// encrypting Account a will fail as it has not been unlocked.</span>
w1.encryptAll(<span class="hljs-string">'lousypassword'</span>) <span class="hljs-comment">// returns [false, true]</span>

<span class="hljs-comment">// we will decrypt a (account at array position 0)</span>
w1.decrypt(<span class="hljs-number">0</span>, <span class="hljs-string">'city of zion'</span>)  <span class="hljs-comment">// returns true</span>
<span class="hljs-comment">// so we can encrypt everything with the same password</span>
w1.encrypt(<span class="hljs-number">0</span>, <span class="hljs-string">'lousypassword'</span>) <span class="hljs-comment">// returns true</span>
</code></pre>
<p>Similar methods for decryption (<code>wallet.decrypt</code>, <code>wallet.decryptAll</code>) is available. Encryption and decryption methods will return booleans which corresponds to the success or failure of the action.</p>
<p>Do note that decrypting does not mean that you cannot export the wallet. Decryption does not erase the old encryption but merely exposes your keys.</p>
<p>Once encrypted, you can proceed to export your wallet through <code>writeFile</code> or <code>export</code>.</p>
<p>The static method <code>readFile</code> is available to construct a wallet through reading a JSON file.</p>
<pre><code class="hljs css js"><span class="hljs-comment">// writes to a file on cwd</span>
w1.writeFile(<span class="hljs-string">'mywallet.json'</span>)

<span class="hljs-comment">// exports as JSON string</span>
<span class="hljs-keyword">const</span> walletString = w1.export()

<span class="hljs-comment">// read wallet from file</span>
<span class="hljs-keyword">const</span> w2 = wallet.Wallet.readFile(<span class="hljs-string">'mywallet.json'</span>)

<span class="hljs-comment">// Decryption failed for account[0]</span>
w2.decryptAll(<span class="hljs-string">'lousypassword'</span>) <span class="hljs-comment">// returns [true, true]</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>方法</h2>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>核心</h3>
<p>可用的核心方法是转换密钥格式并生成新的私钥的方法。</p>
<p>请务必注意，可用的方法不是全套，但只有最低要求。一般来说，有一种方法可以从较高的密钥中重新得到较低的密钥。例如，<code>getPublicKeyFromPrivateKey</code> 存在但不是 <code>getAddressFromPrivatKey</code> 或<code>getPrivateKeyFromPublicKey</code>。对于所有格式的转换，鼓励您使用 <code>Account</code> 类。</p>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> Neon <span class="hljs-keyword">from</span> <span class="hljs-string">'@cityofzion/neon-js'</span>
<span class="hljs-keyword">const</span> privateKey = Neon.create.privateKey()
<span class="hljs-keyword">const</span> publicKey = Neon.get.publicKeyFromPrivateKey(publicKey)
<span class="hljs-keyword">const</span> scriptHash = Neon.get.scriptHashFromPublicKey(publicKey)
<span class="hljs-keyword">const</span> address = Neon.get.addressFromScriptHash(scriptHash)

<span class="hljs-keyword">import</span> { wallet } <span class="hljs-keyword">from</span> <span class="hljs-string">'@cityofzion/neon-js'</span>
<span class="hljs-keyword">const</span> privateKey = wallet.generatePrivateKey()
<span class="hljs-keyword">const</span> publicKey = wallet.getPublicKeyFromPrivateKey(privateKey)
<span class="hljs-keyword">const</span> scriptHash = wallet.getScriptHashFromPublicKey(publicKey)
<span class="hljs-keyword">const</span> address = wallet.getAddressFromScriptHash(scriptHash)
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="components"></a><a href="#components" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Components</h3>
<p>These are methods used to convert JS objects into their respective <code>neon-js</code> implementation.</p>
<p>These methods are exposed for completeness but you are encouraged to use the constructors of the main objects <code>Balance</code> and <code>Claims</code> instead of manually recreating your own objects.</p>
<h3><a class="anchor" aria-hidden="true" name="nep2"></a><a href="#nep2" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>NEP2</h3>
<p>NEP2标准描述了加密或解密私钥的过程。加密方法接受WIF或HEX私钥。但是，解密方法将始终返回WIF以保持一致性。</p>
<p>请务必注意，加密/解密需要很长时间，在浏览器中可能无法很好地运行。</p>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> Neon <span class="hljs-keyword">from</span> <span class="hljs-string">'@cityofzion/neon-js'</span>
<span class="hljs-keyword">const</span> privateKey = Neon.create.privateKey()
<span class="hljs-keyword">const</span> WIF = Neon.get.WIFFromPrivateKey(privateKey)
<span class="hljs-keyword">const</span> nep2Key = Neon.encrypt(privateKey, <span class="hljs-string">'myPassword'</span>)
<span class="hljs-keyword">const</span> decryptedKey = Neon.decrypt(nep2Key, <span class="hljs-string">'myPassword'</span>)
WIF === decryptedKey <span class="hljs-comment">// true</span>

<span class="hljs-keyword">import</span> { wallet }
<span class="hljs-keyword">const</span> privateKey = wallet.generatePrivateKey()
<span class="hljs-keyword">const</span> WIF = <span class="hljs-keyword">new</span> wallet.Account(privateKey).WIF
<span class="hljs-keyword">const</span> nep2Key = wallet.encrypt(WIF, <span class="hljs-string">'myPassword'</span>)
<span class="hljs-keyword">const</span> decryptedKey = wallet.decrypt(nep2Key, <span class="hljs-string">'myPassword'</span>)
WIF === decryptedKey <span class="hljs-comment">// true</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" name=""></a><a href="#" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>验证</h3>
<p>各种密钥格式的验证方法都是可用的：</p>
<pre><code class="hljs css js"><span class="hljs-keyword">import</span> Neon <span class="hljs-keyword">from</span> <span class="hljs-string">'@cityofzion/neon-js'</span>
Neon.is.address(addrStr)
Neon.is.privateKey(keyStr)
Neon.is.NEP2(encryptedStr)

<span class="hljs-keyword">import</span> {wallet} <span class="hljs-keyword">from</span> <span class="hljs-string">'@cityofzion/neon-js'</span>
wallet.isAddress(addrStr)
wallet.isPrivateKey(keyStr)
wallet.isNEP2(keyStr)
</code></pre>
<p>这些方法将返回一个关于密钥格式的布尔值。没有错误将被抛出。</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="api-index.html">← API</a><a class="docs-next button" href="api-transactions.html">Transactions →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/neon-js/" class="nav-home"><img src="/neon-js/img/logo.svg" alt="neon-js" width="66" height="58"/></a><div><h5>Docs</h5><a href="/neon-js/docs/zh-CN/installation.html">Getting Started</a><a href="/neon-js/docs/zh-CN/tutorial.html">Guides</a><a href="/neon-js/docs/zh-CN/api.html">API Reference</a></div><div><h5>Community</h5><a href="/neon-js/zh-CN/users.html">User Showcase</a><a href="https://neo.stackexchange.com/" target="_blank">Stack Overflow</a><a href="https://discord.gg/wczVXTN">Discord Chat</a><a href="https://www.reddit.com/r/NEO/" target="_blank">NEO Reddit</a></div><div><h5>More</h5><a href="https://neo.org/" target="_blank">NEO</a><a href="https://github.com/cityofzion/neon-js" target="_blank">GitHub</a><a class="github-button" href="https://github.com/cityofzion/neon-js" data-icon="octicon-star" data-count-href="/cityofzion/neon-js/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="http://cityofzion.io" target="_blank" class="fbOpenSource"><img src="/neon-js/img/coz_med.png" alt="City of Zion" width="150" height="150"/></a><section class="copyright">Copyright © 2018 City of Zion</section></footer></div></body></html>